version: 2

models:

  - name: normalize__all_unmapped
    description: >
      unmapped condition codes
    config:
      schema: |
        {%- if var('tuva_schema_override',None) != None -%}{{var('tuva_schema_override')}}{% else %}{%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_normalize
        {% else %}normalize{%- endif -%}{%- endif -%}
      alias: |
        {%- if var('tuva_schema_override',None) != None -%}TUVA_NORMALIZE_all_unmapped{% else %}all_unmapped{%- endif -%}
      tags: normalized
      materialized: table

  - name: normalize__all_codes
    description: >
      unmapped condition codes
    config:
      schema: |
        {%- if var('tuva_schema_override',None) != None -%}{{var('tuva_schema_override')}}{% else %}{%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_normalize
        {% else %}normalize{%- endif -%}{%- endif -%}
      alias: |
        {%- if var('tuva_schema_override',None) != None -%}TUVA_NORMALIZE_all_codes{% else %}all_codes{%- endif -%}
      tags: normalized
      materialized: view


  - name: normalize__unmapped_condition
    description: >
      unmapped condition codes
    config:
      schema: |
        {%- if var('tuva_schema_override',None) != None -%}{{var('tuva_schema_override')}}{% else %}{%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_normalize
        {% else %}normalize{%- endif -%}{%- endif -%}
      alias: |
        {%- if var('tuva_schema_override',None) != None -%}TUVA_NORMALIZE_unmapped_condition{% else %}unmapped_condition{%- endif -%}
      tags: normalize
      materialized: table

  - name: normalize__unmapped_procedure
    description: >
      unmapped procedure codes
    config:
      schema: |
        {%- if var('tuva_schema_override',None) != None -%}{{var('tuva_schema_override')}}{% else %}{%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_normalize
        {% else %}normalize{%- endif -%}{%- endif -%}
      alias: |
        {%- if var('tuva_schema_override',None) != None -%}TUVA_NORMALIZE_unmapped_procedure{% else %}unmapped_procedure{%- endif -%}
      tags: normalize
      materialized: table

  - name: normalize__unmapped_lab_result
    description: >
      unmapped procedure codes
    config:
      schema: |
        {%- if var('tuva_schema_override',None) != None -%}{{var('tuva_schema_override')}}{% else %}{%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_normalize
        {% else %}normalize{%- endif -%}{%- endif -%}
      alias: |
        {%- if var('tuva_schema_override',None) != None -%}TUVA_NORMALIZE_unmapped_lab_result{% else %}unmapped_lab_result{%- endif -%}
      tags: normalized
      materialized: table

  - name: normalize__unmapped_medication
    description: >
      unmapped procedure codes
    config:
      schema: |
        {%- if var('tuva_schema_override',None) != None -%}{{var('tuva_schema_override')}}{% else %}{%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_normalize
        {% else %}normalize{%- endif -%}{%- endif -%}
      alias: |
        {%- if var('tuva_schema_override',None) != None -%}TUVA_NORMALIZE_unmapped_medication{% else %}unmapped_medication{%- endif -%}
      tags: normalized
      materialized: table

  - name: normalize__unmapped_observation
    description: >
      unmapped procedure codes
    config:
      schema: |
        {%- if var('tuva_schema_override',None) != None -%}{{var('tuva_schema_override')}}{% else %}{%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_normalize
        {% else %}normalize{%- endif -%}{%- endif -%}
      alias: |
        {%- if var('tuva_schema_override',None) != None -%}TUVA_NORMALIZE_unmapped_observation{% else %}unmapped_observation{%- endif -%}
      tags: normalized
      materialized: table
      




  - name: normalize__stg_unmapped_condition
    description: >
      unmapped condition codes
    config:
      tags: normalized
      materialized: ephemeral

  - name: normalize__stg_unmapped_procedure
    description: >
      unmapped procedure codes
    config:
      tags: normalized
      materialized: ephemeral

  - name: normalize__stg_unmapped_lab_result
    description: >
      unmapped procedure codes
    config:
      tags: normalized
      materialized: ephemeral

  - name: normalize__stg_unmapped_medication
    description: >
      unmapped procedure codes
    config:
      tags: normalized
      materialized: ephemeral

  - name: normalize__stg_unmapped_observation
    description: >
      unmapped procedure codes
    config:
      tags: normalized
      materialized: ephemeral
