version: 2

models:
#### Encounters

## Final
  - name: acute_inpatient__encounter_grain
    description: This table pulls together all the data needed to perform acute inpatient analytics into a single table.
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      alias: acute_inpatient__encounter_grain
      tags:
        - acute_inpatient
        - claims_preprocessing
        - encounters
      materialized: table
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'


  - name: emergency_department__encounter_grain
    description: This table pulls together all the data needed to perform acute inpatient analytics into a single table.
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      alias: emergency_department__encounter_grain
      tags:
        - emergency_department
        - claims_preprocessing
        - encounters
      materialized: table
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'


  - name: inpatient_psych__encounter_grain
    description: "Encounters for inpatient psych. One row per encounter."
    config:
      schema: |
        {%- if var('tuva_schema_prefix', None) != None -%}
          {{ var('tuva_schema_prefix') }}_claims_preprocessing
        {%- else -%}
          claims_preprocessing
        {%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: inpatient_rehab__encounter_grain
    description: "Encounters for inpatient rehab. One row per encounter."
    config:
      schema: |
        {%- if var('tuva_schema_prefix', None) != None -%}
          {{ var('tuva_schema_prefix') }}_claims_preprocessing
        {%- else -%}
          claims_preprocessing
        {%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: inpatient_long_term__encounter_grain
    description: "Encounters for inpatient long term acute care. One row per encounter."
    config:
      schema: |
        {%- if var('tuva_schema_prefix', None) != None -%}
          {{ var('tuva_schema_prefix') }}_claims_preprocessing
        {%- else -%}
          claims_preprocessing
        {%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: inpatient_snf__encounter_grain
    description: "Encounters for inpatient rehab. One row per encounter."
    config:
      schema: |
        {%- if var('tuva_schema_prefix', None) != None -%}
          {{ var('tuva_schema_prefix') }}_claims_preprocessing
        {%- else -%}
          claims_preprocessing
        {%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: inpatient_substance_use__encounter_grain
    description: "Encounters for inpatient rehab. One row per encounter."
    config:
      schema: |
        {%- if var('tuva_schema_prefix', None) != None -%}
          {{ var('tuva_schema_prefix') }}_claims_preprocessing
        {%- else -%}
          claims_preprocessing
        {%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: inpatient_hospice__encounter_grain
    description: "Encounters for inpatient rehab. One row per encounter."
    config:
      schema: |
        {%- if var('tuva_schema_prefix', None) != None -%}
          {{ var('tuva_schema_prefix') }}_claims_preprocessing
        {%- else -%}
          claims_preprocessing
        {%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: encounters__int_institutional_claim_lines
    description: all institutional claim lines that belong to an encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: claim_id
        description: 'Unique identifier for a claim. Each claim represents a distinct healthcare service or set of services provided to a patient.'
      - name: claim_line_number
        description: 'Indicates the line number for the particular line of the claim.'
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: priority_number
        description: 'A number indicating the priority or sequence of the service or claim.'
      - name: anchor_claim_id
        description: 'Unique identifier for a claim. Each claim represents a distinct healthcare service or set of services provided to a patient.'

  - name: encounters__combined_claim_line_crosswalk
    description: all claim lines that belong to an encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: claim_id
        description: 'Unique identifier for a claim. Each claim represents a distinct healthcare service or set of services provided to a patient.'
      - name: claim_line_number
        description: 'Indicates the line number for the particular line of the claim.'
      - name: old_encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: urgent_care__encounter_grain
    description: one row per urgent care encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: outpatient_psych__encounter_grain
    description: one row per outpatient psych encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: outpatient_rehab__encounter_grain
    description: one row per outpatient rehab encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'
  - name: outpatient_hospital_or_clinic__encounter_grain
    description: one row per outpatient rehab encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: outpatient_surgery__encounter_grain
    description: one row per outpatient rehab encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: asc__encounter_grain
    description: one row per asc encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: dialysis__encounter_grain
    description: one row per dialysis encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: outpatient_hospice__encounter_grain
    description: one row per outpatient hospice encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: home_health__encounter_grain
    description: one row per outpatient hospice encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: outpatient_injections__encounter_grain
    description: one row per outpatient hospice encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: outpatient_substance_use__encounter_grain
    description: one row per outpatient hospice encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: outpatient_ptotst__encounter_grain
    description: one row per outpatient hospice encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: outpatient_radiology__encounter_grain
    description: one row per outpatient radiology encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: office_visit__encounter_grain
    description: one row per outpatient office visit surgery encounter id summarizing encounter level metrics
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: lab__encounter_grain
    description: one row per lab encounter id summarizing encounter level metrics. labs will roll up to other encounters unless they appear on their own day with no other claims.
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: dme__encounter_grain
    description: one row per dme encounter id summarizing encounter level metrics. dmes will roll up to other encounters unless they appear on their own day with no other claims.
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'

  - name: ambulance__encounter_grain
    description: one row per ambulance encounter id summarizing encounter level metrics. ambulances will roll up to other encounters unless they appear on their own day with no other claims.
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'


  - name: orphaned_claim__encounter_grain
    description: orphaned claims (usually professional claims) that don't roll up to an anchor event, get assigned their own encounter id for completeness.
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
    columns:
      - name: encounter_id
        description: 'Unique identifier for each encounter in the dataset.'
      - name: encounter_start_date
        description: 'Date when the encounter started.'
      - name: encounter_end_date
        description: 'Date when the encounter ended.'
      - name: patient_data_source_id
        description: 'Identifier for the source system from which patient data originated.'
      - name: encounter_type
        description: 'Indicates the type of encounter e.g. acute inpatient, emergency department, etc.'
      - name: encounter_group
        description: 'Categorization of the encounter into groups based on predefined criteria.'
      - name: person_id
        description: 'Unique identifier for each person in the dataset.'
      - name: admit_age
        description: 'The age of the patient at the time of admission.'
      - name: gender
        description: 'The gender of the patient.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/gender
      - name: race
        description: 'The patient''s race.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/race
      - name: primary_diagnosis_code_type
        description: 'The type of condition code reported in the source system e.g. ICD-10-CM.'
      - name: primary_diagnosis_code
        description: 'Primary diagnosis code for the encounter. If from claims the primary diagnosis code comes from the institutional claim.'
      - name: primary_diagnosis_description
        description: 'Description of the primary diagnosis code.'
      - name: facility_id
        description: 'Facility ID for the claim (typically represents the facility where services were performed).'
      - name: observation_flag
        description: 'Indicates whether the encounter was marked as an observation stay (1 for yes, 0 for no).'
      - name: ed_flag
        description: 'Indicates whether the encounter involved an emergency department visit (1 for yes, 0 for no).'
      - name: lab_flag
        description: 'Indicates whether lab services were utilized during the encounter (1 for yes, 0 for no).'
      - name: dme_flag
        description: 'Indicates whether durable medical equipment (DME) was used during the encounter (1 for yes, 0 for no).'
      - name: ambulance_flag
        description: 'Indicates whether ambulance services were utilized during the encounter (1 for yes, 0 for no).'
      - name: pharmacy_flag
        description: 'Indicates whether pharmacy services were utilized during the encounter (1 for yes, 0 for no).'
      - name: facility_name
        description: 'Facility name.'
      - name: facility_type
        description: 'The type of facility e.g. acute care hospital.'
      - name: delivery_flag
        description: 'Indicates whether the encounter involved a delivery (1 for yes, 0 for no).'
      - name: delivery_type
        description: 'Type of delivery that occurred during the encounter, if applicable.'
      - name: newborn_flag
        description: 'Indicates whether the encounter was for a newborn (1 for yes, 0 for no).'
      - name: nicu_flag
        description: 'Indicates whether the newborn was admitted to the Neonatal Intensive Care Unit (NICU) during the encounter (1 for yes, 0 for no).'
      - name: facility_npi
        description: 'Facility NPI for the claim (typically represents the facility where services were performed).'
      - name: provider_first_name
        description: 'The first name of the healthcare provider.'
      - name: provider_last_name
        description: 'The last name of the healthcare provider.'
      - name: drg_code_type
        description: 'The DRG system used for the claim.'
      - name: drg_code
        description: 'The DRG code on the claim.'
      - name: drg_description
        description: 'The description for the DRG code used on the claim.'
      - name: medical_surgical
        description: 'A flag or code indicating if the service was medical or surgical.'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/ms-drg
      - name: admit_source_code
        description: 'Indicates where the patient was before the healthcare encounter (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-source
      - name: admit_source_description
        description: 'Description of the admit_source_code for the encounter.'
      - name: admit_type_code
        description: 'Indicates the type of admission (inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/admit-type
      - name: admit_type_description
        description: 'Description of the admit_type_code for the encounter.'
      - name: discharge_disposition_code
        description: 'Indicates the type of setting the patient was discharged to (institutional inpatient claims only).'
        config:
          meta:
            terminology: https://thetuvaproject.com/terminology/discharge-disposition
      - name: discharge_disposition_description
        description: 'Description of the discharge_disposition_code for the encounter.'
      - name: total_paid_amount
        description: 'The total amount paid for all services in the claim.'
      - name: total_allowed_amount
        description: 'The total amount allowed by the insurance company for all services in the claim.'
      - name: total_charge_amount
        description: 'The total amount charged for all services in the claim.'
      - name: claim_count
        description: 'The number of claims associated with the encounter or record.'
      - name: inst_claim_count
        description: 'Number of institutional claims generated from the encounter.'
      - name: prof_claim_count
        description: 'Number of professional claims generated from the encounter.'
      - name: length_of_stay
        description: 'Length of the encounter calculated as encounter_end_date - encounter_start_date.'
      - name: mortality_flag
        description: 'A flag indicating if the patient died during the encounter.'
      - name: data_source
        description: 'User-configured field that indicates the data source.'
      - name: tuva_last_run
        description: 'The last time the data was refreshed. Generated by `dbt_utils.pretty_time` as the local time of the `dbt run` environment. Timezone is configurable via the `tuva_last_run` var.'




## Intermediate
## acute inpatient
  - name: acute_inpatient__generate_encounter_id
    description: generate encounter id and stitch inpatient psych claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: acute_inpatient__start_end_dates
    description: calculate start and end date of encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: acute_inpatient__prof_claims
    description: match corresponding prof claims to institutional claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

## ed
  - name: emergency_department__generate_encounter_id
    description: generate encounter id and stitch inpatient psych claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: emergency_department__generate_encounter_id_pre_sort
    description: generate encounter id and stitch inpatient psych claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: emergency_department__start_end_dates
    description: calculate start and end date of encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: emergency_department__prof_claims
    description: match corresponding prof claims to institutional claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters


  - name: inpatient_psych__generate_encounter_id
    description: generate encounter id and stitch inpatient psych claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_psych__start_end_dates
    description: calculate start and end date of encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_psych__prof_claims
    description: match corresponding prof claims to institutional claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters


##inpatient rehab
  - name: inpatient_rehab__generate_encounter_id
    description: generate encounter id and stitch inpatient rehab claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_rehab__start_end_dates
    description: calculate start and end date of encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_rehab__prof_claims
    description: match corresponding prof claims to institutional claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

##inpatient long term actue care
  - name: inpatient_long_term__generate_encounter_id
    description: generate encounter id and stitch inpatient ltac claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_long_term__start_end_dates
    description: calculate start and end date of encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_long_term__prof_claims
    description: match corresponding prof claims to institutional claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters



##inpatient snf
  - name: inpatient_snf__generate_encounter_id
    description: generate encounter id and stitch inpatient snf claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_snf__start_end_dates
    description: calculate start and end date of encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_snf__prof_claims
    description: match corresponding prof claims to institutional claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

##inpatient substance use
  - name: inpatient_substance_use__generate_encounter_id
    description: generate encounter id and stitch inpatient substance_use claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_substance_use__start_end_dates
    description: calculate start and end date of encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_substance_use__prof_claims
    description: match corresponding prof claims to institutional claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

##inpatient hospice
  - name: inpatient_hospice__generate_encounter_id
    description: generate encounter id and stitch inpatient hospice claims together
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_hospice__start_end_dates
    description: calculate start and end date of encounter
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: inpatient_hospice__prof_claims
    description: match corresponding prof claims to institutional claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters



##office visits
  - name: office_visits__int_office_visits_injections
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits_ptotst
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits_radiology
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits_surgery
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits_em
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits_telehealth
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_detail_values
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits_encounter_ranking
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits_claim_line
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: office_visits__int_office_visits_union
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: urgent_care__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - urgent_care

  - name: urgent_care__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - urgent_care

  - name: urgent_care__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters

  - name: outpatient_psych__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_psych

  - name: outpatient_psych__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_psych

  - name: outpatient_psych__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_psych

  - name: outpatient_rehab__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_rehab

  - name: outpatient_rehab__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_rehab

  - name: outpatient_rehab__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_rehab

  - name: outpatient_hospital_or_clinic__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_hospital_or_clinic

  - name: outpatient_hospital_or_clinic__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_hospital_or_clinic

  - name: outpatient_hospital_or_clinic__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_hospital_or_clinic


  - name: asc__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - asc

  - name: asc__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - asc

  - name: asc__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - asc

  - name: asc__start_end_dates
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - asc

  - name: dialysis__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - dialysis

  - name: dialysis__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - dialysis

  - name: dialysis__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - dialysis

  - name: outpatient_hospice__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_hospice

  - name: outpatient_hospice__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_hospice

  - name: outpatient_hospice__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_hospice

  - name: home_health__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - home_health

  - name: home_health__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - home_health

  - name: home_health__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - home_health

  - name: outpatient_injections__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_injections

  - name: outpatient_injections__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_injections

  - name: outpatient_injections__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_injections

##
  - name: outpatient_ptotst__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_ptotst

  - name: outpatient_ptotst__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_ptotst

  - name: outpatient_ptotst__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_ptotst

##
  - name: outpatient_substance_use__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_substance_use

  - name: outpatient_substance_use__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_substance_use

  - name: outpatient_substance_use__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_substance_use
##
  - name: outpatient_radiology__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_radiology

  - name: outpatient_radiology__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_radiology

  - name: outpatient_radiology__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_radiology
##
  - name: lab__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - lab

  - name: lab__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - lab

  - name: lab__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - lab
##
  - name: dme__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - dme

  - name: dme__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - dme

  - name: dme__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - dme

##
  - name: ambulance__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - ambulance

  - name: ambulance__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - ambulance

  - name: ambulance__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - ambulance

  - name: encounters__orphaned_claims
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters

##
  - name: outpatient_surgery__anchor_events
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_surgery

  - name: outpatient_surgery__generate_encounter_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_surgery

  - name: outpatient_surgery__match_claims_to_anchor
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: view
      tags:
        - claims_preprocessing
        - encounters
        - outpatient_surgery

## Staging
  - name: encounters__stg_medical_claim
    description: Staging med claims for encounter grouper
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters
  - name: encounters__prof_and_lower_priority
    description: adding in lower priority institutional claims in one location with professional for grouping to higher level encounters
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: encounters__stg_inpatient_institutional
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: encounters__stg_outpatient_institutional
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: encounters__stg_professional
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: encounters__stg_eligibility
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters

  - name: encounters__patient_data_source_id
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_claims_preprocessing
        {%- else -%}claims_preprocessing{%- endif -%}
      materialized: table
      tags:
        - claims_preprocessing
        - encounters