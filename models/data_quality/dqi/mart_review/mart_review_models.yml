version: 2
models:
#### Mart review
## Final

- name: mart_review__claims_with_enrollment
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__claims_with_enrollment
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__data_source
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__data_source
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__ed_classification
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__ed_classification
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__enrollment_change
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__enrollment_change
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__inpatient
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__inpatient
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__member_months
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__member_months
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__members_with_claims
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__members_with_claims
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__number_of_conditions
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__number_of_conditions
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__patient
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__patient
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__patient_risk
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__patient_risk
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__pharmacy
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__pharmacy
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__pmpm
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__pmpm
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__readmissions
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__readmissions
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__tuva_chronic_conditions
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__tuva_chronic_conditions
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__calendar_month
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__calendar_month
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__patient_risk_scores
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__patient_risk_scores
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__patient_risk_factors
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__patient_risk_factors
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__quality_measures_summary_long
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__quality_measures_summary_long
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__quality_measures_value_set
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__quality_measures_value_set
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__generics
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__generics
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__service_categories_long
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__service_categories_long
    tags:
      - data_quality_mart_review
    materialized: table  



## Stage
- name: mart_review__stg_medical_claim
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__stg_medical_claim
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__stg_pharmacy_claim
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__stg_pharmacy_claim
    tags:
      - data_quality_mart_review
    materialized: table

- name: mart_review__stg_member_month
  config:
    schema: |
      {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_data_quality
      {% else %}data_quality{%- endif -%}
    alias: mart_review__stg_member_month
    tags:
      - data_quality_mart_review
    materialized: table